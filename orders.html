<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>全国城市三级联动-传统方式</title>
		<link rel="stylesheet" type="text/css" href="extjs4.2.1/resources/css/ext-all.css">
		<script src="extjs4.2.1/ext-all.js"></script>
		<script src="extjs4.2.1/locale/ext-lang-zh_CN.js"></script>
	</head>
	<body>
		<script src="js/regions.js"></script>
		<script>			
			var opcode = 0;   //1为新增,0为浏览,2为修改删除
			// function getChild(pid) {
			// 	var data = new Array();
			// 	Ext.each(regions, function (item) {
			// 		if (item.pid == pid) {
			// 			data.push(item)
			// 		}
			// 	});
			// 	return data;
			// }
			Ext.onReady(function(){ 				
				Ext.regModel('ordermodel',{
					//idProperty:'ryxx_id',
					fields:['id','orderno','orderdate','departno','departname','sellername','sellertel','orderstate','ordertype','orderdesc']
				});
				Ext.regModel('ordertialmodel',{
					fields:['id','orderno','itemno','color','size','num','price','othermsg']
				});	
				

							
				Ext.regModel('ordermodel',{
				   fields:['orderstate']
				});
				var orderstore = new Ext.data.Store({
				   model:'ordermodel',
				   data:[{orderstate:'待配送'},{ordersate:'已发货'}]
				});
				
				Ext.regModel('provinceInfo',{
					fields:[{name:'name'},{name:'id'}]
				});
				
				var provinceStore = Ext.create('Ext.data.Store',{
					model:'provinceInfo',
					data:[{
    "name": "北京市",
    "id": "110000"
}, {
    "name": "天津市",
    "id": "120000"
}, {
    "name": "河北省",
    "id": "130000"
}, {
    "name": "山西省",
    "id": "140000"
}, {
    "name": "内蒙古自治区", 
    "id": "150000"
}, {
    "name": "辽宁省",
    "id": "210000"
}, {
    "name": "吉林省",
    "id": "220000"
}, {
    "name": "黑龙江省",
    "id": "230000"
}, {
    "name": "上海市",
    "id": "310000"
}, {
    "name": "江苏省",
    "id": "320000"
}, {
    "name": "浙江省",
    "id": "330000"
}, {
    "name": "安徽省",
    "id": "340000"
}, {
    "name": "福建省",
    "id": "350000"
}, {
    "name": "江西省",
    "id": "360000"
}, {
    "name": "山东省",
    "id": "370000"
}, {
    "name": "河南省",
    "id": "410000"
}, {
    "name": "湖北省",
    "id": "420000"
}, {
    "name": "湖南省",
    "id": "430000"
}, {
    "name": "广东省",
    "id": "440000"
}, {
    "name": "广西壮族自治区",
    "id": "450000"
}, {
    "name": "海南省",
    "id": "460000"
}, {
    "name": "重庆市",
    "id": "500000"
}, {
    "name": "四川省",
    "id": "510000"
}, {
    "name": "贵州省",
    "id": "520000"
}, {
    "name": "云南省",
    "id": "530000"
}, {
    "name": "西藏自治区",  
    "id": "540000"
}, {
    "name": "陕西省",
    "id": "610000"
}, {
    "name": "甘肃省",
    "id": "620000"
}, {
    "name": "青海省",
    "id": "630000"
}, {
    "name": "宁夏回族自治区",
    "id": "640000"
}, {
    "name": "新疆维吾尔自治区",
    "id": "650000"
}, {
    "name": "台湾省",
    "id": "710000"
}, {
    "name": "香港特别行政区",
    "id": "810000"
}, {
    "name": "澳门特别行政区",
    "id": "820000"
}]
			
				});
				
				Ext.regModel('cityInfo',{
					fields:[{name:'province'},{name:'name'},{name:'id'}]
				});
				
				
				Ext.regModel('departInfo',{
					fields:[{name:'departname'},{name:'departno'}]
				});
				
				var departStore = Ext.create('Ext.data.Store',{
					model:'departInfo',
					data:[
						{departname:'办公室',departno:'W070'},
						{departname:'工会',departno:'W099'},
						{departname:'企管部',departno:'W071'},
					]
				});
				
				var toolbar = new Ext.toolbar.Toolbar({
					items:[
						 '订单日期',
						 {xtype:'datefield',format:'Y-m-d',width:90,id:'datesel'},
						 '订货部门',
						 {xtype:'combo',
						 //fieldLabel:'订单部门',
						  queryMode:'local',
						  store:departStore,
						  displayField:'departname',
						  valueField:'departno',
						  width:60
						 },
						 '订货人姓名',
						{xtype:'textfield',
						//fieldLabel:'订货人姓名',
						id:'sellername',
						width:50
						},
						'电话',
						{xtype:'textfield',width:80},
						'收货人',
						{xtype:'textfield',width:50},
						'收货地址',
						{xtype:'textfield',width:200},
						'收货电话',
						{xtype:'textfield',width:80},        
					]
				});
						
				var gird = new Ext.grid.Panel({
					tbar:[toolbar],
					renderTo:Ext.getBody(),
					columns:[
						{header:'货号',dataIndex:'itemno'},
						{header:'颜色',dataIndex:'color'},
					]
				})		
				
				
				// var form = new Ext.form.Panel({
				//     title:'加载',
				//     renderTo:Ext.getBody(),
				//     items:[
				// 		// '订单日期',
				// 		 {xtype:'datefield',fieldLabel:'订货日期',format:'Y-m-d',width:200,id:'datesel'},
				// 		//'订货部门',
				// 		{xtype:'combo',
				// 		fieldLabel:'订单部门',
				// 		 queryMode:'local',
				// 		 store:departStore,
				// 		 displayField:'departname',
				// 		 valueField:'departno'						 
				// 		}				        
				// 		
				// 		
				// 		
				//     ]				    
				// });

		// var toolbar = new Ext.toolbar.Toolbar({
		// 	items:[	
		// 		'区域',
		// 		{xtype:'combo',
		// 		 store:provinceStore,
		// 		 queryMode:'local',
		// 		 displayField:'province',
		// 		 valueField: 'post',
		// 		 id:'areacombo',
		// 		 emptyText:'请选择区域',
		// 		 width:90,
		// 		 listeners:{
		// 			
		// 		}},				
		// 		//'厂家',
		// 		// {xtype:'combo',
		// 		//  store:cityStore,
		// 		//  queryMode:'local',
		// 		//  displayField:'text',
		// 		//  valueField:'id',
		// 		//  id:'cjcombo',
		// 		//  emptyText:'请选择厂家',
		// 		//  width:90,					     						 
		// 		//  listeners:{
		// 		// 	
		// 		// }}
		// 	]
		// });
		
		})			
		</script>
	</body>
</html>
